<!DOCTYPE html>
<html><head>
<title>Guidelines on JSON responses for RESTful services</title>




<meta charset="utf-8">
<meta name="X-UA-Compatible" content="IE=edge">
<meta name="google-site-verification" content="">
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
<meta content="telephone=no" name="format-detection">
<meta name="description" content="Now days RESTful API is followed heavily on most of the projects. Since it doesn’t prescribe every details, many times I have seen developers start following different ways of implement for similar patterns in API, leading to inconsistent API. So during initial stage of the project it is very important to discuss and define guidelines for RESTful APIs. In this article I am focusing on JSON response guidelines..">
<meta name="renderer" content="webkit">
<meta name="theme-color" content="#ffffff">











<script async src="https://www.googletagmanager.com/gtag/js?id=G-BFGBVLBYDZ"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-BFGBVLBYDZ', { 'anonymize_ip': false });
}
</script>



<script src="/vendor/js/jquery.min.js" ></script>
<script src="/vendor/js/popper.min.js" ></script>
<script src="/vendor/js/bootstrap.min.js" ></script>
<script src="/vendor/js/smooth-scroll.polyfills.min.js" ></script>
<link type="text/css" rel="stylesheet" href="/vendor/css/bootstrap.min.css">
<script src="/vendor/js/vue.min.js" ></script>




<link rel="icon" href="//www.sunitparekh.in/images/favicon.png">




<link rel="stylesheet" href="//www.sunitparekh.in/scss/journal.min.723c42bdc3ef6ba83b2226ba112bbdf0b91720163de1288758fdb1cdd2afc284.css" integrity="sha256-cjxCvcPva6g7Iia6ESu98LkXIBY94SiHWP2xzdKvwoQ=" media="screen">



<link rel="stylesheet" href="//www.sunitparekh.in/scss/dark-mode.min.1d3c8e9244f081062a0d86e66e56bb05a85c4b903c62271b2c9e98c49f362106.css" integrity="sha256-HTyOkkTwgQYqDYbmbla7BahcS5A8YicbLJ6YxJ82IQY=" media="screen">


<script src="//www.sunitparekh.in//js/loadCSS.js"></script>
<script>
  loadCSS("https://fonts.googleapis.com/css?family=Rubik|Open+Sans:wght@300;400|Roboto:wght@300|Montserrat|Fira+Mono|Material+Icons");
</script>




  
    <script src="//www.sunitparekh.in//js/toc-collapse.js"></script>
  










</head>
<body>
    	<div id="app"><div ref="sideContainer" class="side-container">
    
    <a class="a-block nav-head false" href="//www.sunitparekh.in/">
    
        <div>
            <img src="/images/favicon.png" height="100"/>
        </div>    
        <div class="nav-title">
            sUnit Blog
        </div>
        
        <div class="nav-subtitle">
            insights on software development
        </div>
        
    </a>

    <div class="nav-link-list">
        
        
            
            
            
                
            
            
            
            <a class="a-block nav-link-item active" href="/posts">
                Posts
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/tags">
                Tags
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/index.xml">
                RSS Feed
            </a>
            
        
            
            
            
            
            
            <a class="a-block nav-link-item false" href="/about">
                About Me
            </a>
            
        
    </div>

    

    <div class="nav-footer">
        
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
Ported from <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	2023 sunitparekh.in
	

    </div>
    
</div><div ref="extraContainer" class="extra-container">
    
    
    <div class="toc animated-visibility" :class="{ invisible: scrollY <= 140 }">


	<div class="toc-content">
	
		
		
		
		<center>- CATALOG -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
							
								<ul class="collapse" data-toggle="collapse">
							
						
						
							<li>
								<a href="#responding-success-and-failure" onclick="onNavClick(`#responding-success-and-failure-nav`)" id="responding-success-and-failure-nav">
									Responding success and failure
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#list-and-search-result-type-of-responses" onclick="onNavClick(`#list-and-search-result-type-of-responses-nav`)" id="list-and-search-result-type-of-responses-nav">
									List and search result type of responses
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#json-key-propertyfield-name-naming-convention" onclick="onNavClick(`#json-key-propertyfield-name-naming-convention-nav`)" id="json-key-propertyfield-name-naming-convention-nav">
									JSON key (property/field name) naming convention
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#handling-null-values" onclick="onNavClick(`#handling-null-values-nav`)" id="handling-null-values-nav">
									Handling NULL values
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#date-and-datetime-responses" onclick="onNavClick(`#date-and-datetime-responses-nav`)" id="date-and-datetime-responses-nav">
									Date and DateTime responses
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#multiline-string-values" onclick="onNavClick(`#multiline-string-values-nav`)" id="multiline-string-values-nav">
									Multiline string values
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#summary" onclick="onNavClick(`#summary-nav`)" id="summary-nav">
									Summary
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
    
    <div class="pagination">
        <a id="globalBackToTop" class="pagination-action animated-visibility" href="#top" :class="{ invisible: scrollY == 0 }">
            <i class="material-icons pagination-action-icon">
                keyboard_arrow_up
            </i>
        </a>
        
        <a class="pagination-action" v-on:click="toggleDarkMode">
            <i class="material-icons pagination-action-icon" v-if="isDarkMode">
                brightness_4
            </i>
            <i class="material-icons pagination-action-icon" v-else="isDarkMode">
                brightness_7
            </i>
        </a>
        
        
    </div>
</div>
<div class="single-column-drawer-container" ref="drawer"
     v-bind:class="{ 'single-column-drawer-container-active': isDrawerOpen }">
    <div class="drawer-content">
        <div class="drawer-menu">
            
            
            
                
                
                
                    
                
                
                
                <a class="a-block drawer-menu-item active" href="/posts">
                    Posts
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/tags">
                    Tags
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/index.xml">
                    RSS Feed
                </a>
                
            
                
                
                
                
                
                <a class="a-block drawer-menu-item false" href="/about">
                    About Me
                </a>
                
            
            
            <div class="toc">


	<div class="toc-content">
	
		
		
		
		<center>- CATALOG -</center>
		
		
		<ul>
			
				
				
					
						
						
						
						
							
								<ul class="collapse" data-toggle="collapse">
							
						
						
							<li>
								<a href="#responding-success-and-failure" onclick="onNavClick(`#responding-success-and-failure-nav`)" id="responding-success-and-failure-nav">
									Responding success and failure
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#list-and-search-result-type-of-responses" onclick="onNavClick(`#list-and-search-result-type-of-responses-nav`)" id="list-and-search-result-type-of-responses-nav">
									List and search result type of responses
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#json-key-propertyfield-name-naming-convention" onclick="onNavClick(`#json-key-propertyfield-name-naming-convention-nav`)" id="json-key-propertyfield-name-naming-convention-nav">
									JSON key (property/field name) naming convention
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#handling-null-values" onclick="onNavClick(`#handling-null-values-nav`)" id="handling-null-values-nav">
									Handling NULL values
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#date-and-datetime-responses" onclick="onNavClick(`#date-and-datetime-responses-nav`)" id="date-and-datetime-responses-nav">
									Date and DateTime responses
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#multiline-string-values" onclick="onNavClick(`#multiline-string-values-nav`)" id="multiline-string-values-nav">
									Multiline string values
								</a>
							</li>
						
						
					
				
			
				
				
					
						
						
						
						
						
							<li>
								<a href="#summary" onclick="onNavClick(`#summary-nav`)" id="summary-nav">
									Summary
								</a>
							</li>
						
						
					
				
			
		</ul>
	</div>

</div>
            
        </div>
    </div>
</div>
<transition name="fade">
    <div v-bind:class="{ 'single-column-drawer-mask': mounted }" v-if="isDrawerOpen" v-on:click="toggleDrawer"></div>
</transition>
<nav ref="navBar" class="navbar sticky-top navbar-light single-column-nav-container">
    <div ref="navBackground" class="nav-background"></div>
    <div class="container container-narrow nav-content">
        <button id="nav_dropdown_btn" class="nav-dropdown-toggle" type="button" v-on:click="toggleDrawer">
            <i class="material-icons">
                menu
            </i>
        </button>
        <a ref="navTitle" class="navbar-brand" href="//www.sunitparekh.in/">
            sUnit Blog
        </a>
        
        <button type="button" class="nav-darkmode-toggle" v-on:click="toggleDarkMode">
            <i class="material-icons" v-if="isDarkMode">
                brightness_4
            </i>
            <i class="material-icons" v-else="isDarkMode">
                brightness_7
            </i>
        </button>
        
    </div>
</nav>
<div class="single-column-header-container" ref="pageHead"
     v-bind:style="{ transform: 'translateZ(0px) translateY('+.3*scrollY+'px)', opacity: 1-navOpacity }">
    <a href="//www.sunitparekh.in/">
        <div>
            <img src="/images/favicon.png" height="100"/>
        </div>    
        <div class="single-column-header-title">sUnit Blog</div>
        
        <div class="single-column-header-subtitle">insights on software development</div>
        

    </a>
</div>

            <div id="content">
<div ref="streamContainer" class="stream-container">
    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            
            
            
                
            

            <div class="post-head-wrapper"
                 style="background-image: url('/images/background.png'); ">
                <div class="post-title">
                    Guidelines on JSON responses for RESTful services
                    <div class="post-meta">
                        
                        <time itemprop="datePublished">
                            Apr 3, 2018
                        </time>
                        
                    </br>
                        

                        
                            <i class="material-icons" style="">label</i>
                            
                                <a href="/tags/json">json</a>
                                &nbsp;
                            
                                <a href="/tags/api">api</a>
                                &nbsp;
                            
                        
                        
                    </div>
                </div>
            </div>
            
            <div class="post-body-wrapper">
                
                <div class="post-body" v-pre>
                
                    <p>Now days RESTful API is followed heavily on most of the projects. Since it doesn’t prescribe every details, many times I have seen developers start following different ways of implement for similar patterns in API, leading to inconsistent API. So during initial stage of the project it is very important to discuss and define guidelines for RESTful APIs. In this article I am focusing on JSON response guidelines.</p>
<p><img src="/images/31/api.png" alt="API"></p>
<h2 id="responding-success-and-failure">Responding success and failure</h2>
<p>First question that comes in discussion is, <em>How shall we craft response for success and failure?</em> Different options are,</p>
<ol>
<li>Use HTTP status codes conveying the status + json body in response payload</li>
<li>always return 200 and response payload to have status and data fields.</li>
</ol>
<p>My take is <strong>use HTTP status code to convey the response status</strong>. And I prefer not to create envelope response but return requested object at top level JSON. And for errors return appropriate HTTP status code with more detailed error message and errors as JSON response.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Status:</span> <span style="color:#ae81ff">200</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Content-Type:</span> <span style="color:#960050;background-color:#1e0010">application/json</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;employeeId&#34;</span>:<span style="color:#ae81ff">123456</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;firstName&#34;</span>: <span style="color:#e6db74">&#34;Sunit&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lastName&#34;</span>: <span style="color:#e6db74">&#34;Parekh&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;gender&#34;</span>: <span style="color:#e6db74">&#34;Male&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;hireDate&#34;</span>: <span style="color:#e6db74">&#34;2012-01-01&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;birthDate&#34;</span>: <span style="color:#e6db74">&#34;1990-01-01&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;office&#34;</span>: <span style="color:#e6db74">&#34;Pune&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Status:</span> <span style="color:#ae81ff">404</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Content-Type:</span> <span style="color:#960050;background-color:#1e0010">application/json</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;code&#34;</span>: <span style="color:#e6db74">&#34;NOT_FOUND&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;message&#34;</span>: <span style="color:#e6db74">&#34;Oops! Requested employee 123456 not found.&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Status:</span> <span style="color:#ae81ff">400</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Content-Type:</span> <span style="color:#960050;background-color:#1e0010">application/json</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;code&#34;</span>: <span style="color:#e6db74">&#34;INVALID_INPUT&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;message&#34;</span>: <span style="color:#e6db74">&#34;Oops! Invalid data provided for employee.&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">&#34;errors&#34;</span>: [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;message&#34;</span>: <span style="color:#e6db74">&#34;Last name is required field.&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;field&#34;</span>: <span style="color:#e6db74">&#34;lastName&#34;</span>
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;message&#34;</span>: <span style="color:#e6db74">&#34;Age of the employee should be greater than 18&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&#34;field&#34;</span>: <span style="color:#e6db74">&#34;dateOfBirth&#34;</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  ]
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Status:</span> <span style="color:#ae81ff">401</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Content-Type:</span> <span style="color:#960050;background-color:#1e0010">application/json</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;code&#34;</span>: <span style="color:#e6db74">&#34;UNAUTHORIZED_ACCESS&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;message&#34;</span>: <span style="color:#e6db74">&#34;Unauthorized access for the requested content.&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Effective use of HTTP status code helps with leveraging HTTP caching and coding clients. Also it is important to discuss and decide which status code to use when. Read more <a href="http://www.restapitutorial.com/httpstatuscodes.html">here</a> about status codes.</p>
<h2 id="list-and-search-result-type-of-responses">List and search result type of responses</h2>
<p>Next question comes up is, how to return list or search result like responses?
This is the heavily debatable and many times inconclusive topic for whole team to agree. Okay, what are the options?</p>
<ol>
<li>use envelope style response, result includes count plus data, however for error conditions such as bad input or un-authorized request use appropriate HTTP status code</li>
<li>return only data with HTTP status code and use response headers for count fields</li>
<li>always return 200 and status in response body</li>
</ol>
<p>My take, here I am divided between option 1 and 2. Still preferred option is <strong>Option 2, return only data and convey summary fields using headers</strong>. Another alternative to sending count field in response header is have separate count API. This is also useful many times as you need count only once.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Status:</span> <span style="color:#ae81ff">200</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Total-Count:</span> <span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Next-Page:</span> <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Content-Type:</span> <span style="color:#960050;background-color:#1e0010">application/json</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;employeeId&#34;</span>:<span style="color:#ae81ff">123456</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;firstName&#34;</span>: <span style="color:#e6db74">&#34;Sunit&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;lastName&#34;</span>: <span style="color:#e6db74">&#34;Parekh&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;gender&#34;</span>: <span style="color:#e6db74">&#34;Male&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;hireDate&#34;</span>: <span style="color:#e6db74">&#34;2012-01-01&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;birthDate&#34;</span>: <span style="color:#e6db74">&#34;1990-01-01&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;office&#34;</span>: <span style="color:#e6db74">&#34;Pune&#34;</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;employeeId&#34;</span>:<span style="color:#ae81ff">123457</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;firstName&#34;</span>: <span style="color:#e6db74">&#34;Sunit&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;lastName&#34;</span>: <span style="color:#e6db74">&#34;Parekh&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;gender&#34;</span>: <span style="color:#e6db74">&#34;Male&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;hireDate&#34;</span>: <span style="color:#e6db74">&#34;2012-01-01&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;birthDate&#34;</span>: <span style="color:#e6db74">&#34;1990-01-01&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;office&#34;</span>: <span style="color:#e6db74">&#34;Pune&#34;</span>
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>]
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Status:</span> <span style="color:#ae81ff">200</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Total-Count:</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Next-Page:</span> <span style="color:#66d9ef">false</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Content-Type:</span> <span style="color:#960050;background-color:#1e0010">application/json</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>[]
</span></span></code></pre></div><p>Use of response header is key in the above example. Next-Page response header tells client that I have more data (next page) available. And such headers can be really useful for loading next pages on scroll.</p>
<p>However, when I look at API like <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/search-request-body.html">elasticsearch</a> I get convinced that Option 2 is also right. Choose one for the project and follow it.</p>
<h2 id="json-key-propertyfield-name-naming-convention">JSON key (property/field name) naming convention</h2>
<p>Now it’s time to get inside the JSON fields. What should be naming convention for fields? Options are</p>
<ol>
<li><code>camelCase</code></li>
<li><code>snake_case</code></li>
<li><code>spinal-case</code></li>
</ol>
<p>My choice here is <strong><code>camelCase</code></strong> and that must be from my background as Java developer. I have seen equal use of <code>snake_case</code> as well, but very rare use of <code>spinal-case</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Status:</span> <span style="color:#ae81ff">200</span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">Content-Type:</span> <span style="color:#960050;background-color:#1e0010">application/json</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;employeeId&#34;</span>:<span style="color:#ae81ff">123456</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;firstName&#34;</span>: <span style="color:#e6db74">&#34;Sunit&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lastName&#34;</span>: <span style="color:#e6db74">&#34;Parekh&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;gender&#34;</span>: <span style="color:#e6db74">&#34;Male&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;hireDate&#34;</span>: <span style="color:#e6db74">&#34;2012-01-01&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;birthDate&#34;</span>: <span style="color:#e6db74">&#34;1990-01-01&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;office&#34;</span>: <span style="color:#e6db74">&#34;Pune&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Avoid using dot (.) in key names, as they conflict with the JSON path.</p>
<h2 id="handling-null-values">Handling NULL values</h2>
<p>It’s time to look at, how to return NULL values? This is again another area of debate starts. Options are,</p>
<ol>
<li>Do not return NULL values</li>
<li>Return as null value</li>
</ol>
<p>I prefer <strong>Option 1) Do not return NULL values.</strong> However, question becomes tricky when value is object or array and it is empty. In that case empty {} or [] is valid JSON response.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#75715e">// Response with null and empty values 
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// -- NOT RECOMMENDED, JUST FOR REPRESENTATION PURPOSE --
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;employeeId&#34;</span>: <span style="color:#ae81ff">12345</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;firstName&#34;</span>: <span style="color:#e6db74">&#34;Sunit&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lastName&#34;</span>: <span style="color:#e6db74">&#34;Parekh&#34;</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;mobile&#34;</span>: <span style="color:#66d9ef">null</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;addresses&#34;</span>: []
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#75715e">// Response without Null Values, Empty object or array is still present
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;employeeId&#34;</span>: <span style="color:#ae81ff">12345</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;firstName&#34;</span>: <span style="color:#e6db74">&#34;Sunit&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lastName&#34;</span>: <span style="color:#e6db74">&#34;Parekh&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;addresses&#34;</span>: []
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#75715e">// Response without Null and Empty Values
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;employeeId&#34;</span>: <span style="color:#ae81ff">12345</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;firstName&#34;</span>: <span style="color:#e6db74">&#34;Sunit&#34;</span>,
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&#34;lastName&#34;</span>: <span style="color:#e6db74">&#34;Parekh&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>I do not prefer null values as it can have side effects while parsing on client side. E.g. In JavaScript null has special meaning. Just be careful not to choose returning empty string (“”) which does not express as value doesn’t exists.</p>
<h2 id="date-and-datetime-responses">Date and DateTime responses</h2>
<p>This one is most important, What should be format for date and datetime (timestamp) type of fields? <strong>Option here is <a href="https://www.w3.org/TR/NOTE-datetime">ISO 8601</a> format returned as string.</strong> However, many time not knowing it, make developer to follow “default toString” or “self-made formats”. Most of the languages have default support for serializing and deserializing, date and datetime in ISO 8601 format.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#75715e">// audit fields
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;createdBy&#34;</span>: <span style="color:#e6db74">&#34;123456&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;createdAt&#34;</span>: <span style="color:#e6db74">&#34;2012-01-01T18:25:43.511Z&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;createdBy&#34;</span>: <span style="color:#e6db74">&#34;123456&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;createdAt&#34;</span>: <span style="color:#e6db74">&#34;2012-01-01T18:25:43.511Z&#34;</span>,
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Even if you choose to return datetime always in only one timezone such as UTC. I still recommend to choose ISO 8601 standard which includes timezone.</p>
<h2 id="multiline-string-values">Multiline string values</h2>
<p>Many times I need to send large multiline string as values e.g. Address. How do I pass multiline string value? Options are</p>
<ol>
<li>as array of strings</li>
<li>base64 encoding</li>
</ol>
<p>Solution that worked for me is <strong>base64 encoding for values</strong>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#75715e">// multiple as array
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;singleLine&#34;</span>: <span style="color:#e6db74">&#34;Some singleline String&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;multiline&#34;</span>: [<span style="color:#e6db74">&#34;Line one&#34;</span>, <span style="color:#e6db74">&#34;Line Two&#34;</span>, <span style="color:#e6db74">&#34;Line Three&#34;</span>]
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#75715e">// multiple as base64 encoded string
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>{
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;singleLine&#34;</span>: <span style="color:#e6db74">&#34;Some singleline String&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&#34;multiline&#34;</span>: <span style="color:#e6db74">&#34;TGluZSBvbmUKTGluZSBUd28KTGluZSBUaHJlZQ==&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Another example is to use <code>base64url</code> encoded query param for GET request providing search criteria as JSON. :-)</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{ <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;sunit&#34;</span>, <span style="color:#f92672">&#34;office&#34;</span>: <span style="color:#e6db74">&#34;pune&#34;</span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">/*</span> <span style="color:#960050;background-color:#1e0010">above</span> <span style="color:#960050;background-color:#1e0010">search</span> <span style="color:#960050;background-color:#1e0010">criteria</span> <span style="color:#960050;background-color:#1e0010">parameters</span> <span style="color:#960050;background-color:#1e0010">send</span> <span style="color:#960050;background-color:#1e0010">in</span> <span style="color:#960050;background-color:#1e0010">GET</span> <span style="color:#960050;background-color:#1e0010">request</span> <span style="color:#960050;background-color:#1e0010">param</span> <span style="color:#960050;background-color:#1e0010">as</span> <span style="color:#960050;background-color:#1e0010">base</span><span style="color:#ae81ff">64</span><span style="color:#960050;background-color:#1e0010">url</span> <span style="color:#960050;background-color:#1e0010">encoded</span> <span style="color:#960050;background-color:#1e0010">*/</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">/search?query=</span><span style="color:#e6db74">&#34;eyAibmFtZSI6ICJzdW5pdCIsICJvZmZpY2UiOiAicHVuZSJ9&#34;</span>
</span></span></code></pre></div><h2 id="summary">Summary</h2>
<p>And there are many more discussion and decisions to be made for JSON responses guidelines, such as,</p>
<ol>
<li>How to represent structural data? nested vs flatten</li>
<li>Define standards for paginated results? (params and result both)</li>
<li>Singular vs Plural Property Names?</li>
<li>If needed, how would you version your API and how to return response with version info ?</li>
<li>Think about more data types? e.g. Latitude/Longitude values</li>
</ol>
<blockquote>
<p>Point I would like to derive from this article is, at the beginning of the project collectively define guidelines for RESTful services for the project and write it down. Also keep it open for discussion and further amendments.</p>
</blockquote>
<p>Another new trend to explore is <a href="https://www.howtographql.com/">GraphQL</a> for building API that needs to be consumed by many discrete client needs.</p>

                    
                    <HR width="100%" id="EOF">
		    <p style="color:#777;">Last modified on 2018-04-03</p>
                    
                </div>
            </div>
            
            
            <nav class="post-pagination">

                
                <a class="newer-posts" href="//www.sunitparekh.in/posts/32-remote-pairing/">
			Next<br>The Remote Pairing Cheat Sheet
                </a>
                
                
                
                <a class="older-posts" href="//www.sunitparekh.in/posts/30-three-branching-model/">
			Previous<br>Release based 3 branch model with trunk based development
                </a>
                
            </nav>
            <div class="post-comment-wrapper">
                







            </div>
        </div>
    </div>
</div>

            </div><div id="single-column-footer">
Hugo Theme <a href="https://github.com/amazingrise/hugo-theme-diary">Diary</a> by <a href="https://amazingrise.net">Rise</a>
<br>
Ported from <a href="https://mak1t0.cc/" target="_blank" rel="noreferrer noopener">Makito</a>'s <a href="https://github.com/SumiMakito/hexo-theme-journal/" target="_blank" rel="noreferrer noopener">Journal.</a> <br>
<br>

&copy;
	
	2023 sunitparekh.in
	
</div>
            </div>
    <script>
let app;

app = new Vue({
    el: '#app',
    data: {
        scrollY: 0,
        navOpacity: 0,
        isDrawerOpen: false,
        mounted: false,
        isDarkMode: false
    },
    methods: {
            sgn(t, x) {
                let k = 1. / (1. - 2 * t);
                if (x <= t) return 0;
                else if (x >= 1 - t) return 1;
                else {
                    return k * (x - t);
                }
            },
            handleScroll() {
                this.scrollY = window.scrollY;
                this.navOpacity = this.sgn(.0, Math.min(1, Math.max(0, window.scrollY / (this.pageHeadHeight() - this.navBarHeight() * 0.8))));
                const {navBar, navBackground, navTitle, extraContainer, streamContainer} = this.$refs;

                if (this.navOpacity >= 1) {
                    navBackground.style.opacity = 1;
                    navTitle.style.opacity = 1;
                } else {
                    navBackground.style.opacity = 0;
                    navTitle.style.opacity = 0;
                }
            },
            handleResize() {
                const {navBar, navBackground, navTitle, extraContainer, streamContainer} = this.$refs;
                extraContainer.style.left = (streamContainer.offsetWidth - extraContainer.offsetWidth) + 'px';
            },
            navBarHeight() {
                return this.$refs.navBar.offsetHeight;
            },
            pageHeadHeight() {
                return this.$refs.pageHead.offsetHeight;
            },
            toggleDrawer() {
                this.isDrawerOpen = !this.isDrawerOpen;
                document.getElementsByTagName('html')[0].style.overflow = this.isDrawerOpen ? 'hidden' : 'unset';
            },
            closeDrawer() {
                this.isDrawerOpen = false;
                document.getElementsByTagName('html')[0].style.overflow = this.isDrawerOpen ? 'hidden' : 'unset';
            },
            toggleDarkMode() {
                this.isDarkMode = !this.isDarkMode;
                if (this.isDarkMode==true){
                    document.cookie = "night=1;path=/";
                    document.body.classList.add("night");
                } else {
                    document.cookie = "night=0;path=/";
                    document.body.classList.remove("night");
                }
            }
    },
    created() {
        window.addEventListener('scroll', this.handleScroll);
        window.addEventListener('resize', this.handleResize);
        window._nonDesktop = function () {
            let check = false;
            (function (a) {
                if (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0, 4))) check = true;
            })(navigator.userAgent || navigator.vendor || window.opera);
            return check;
        };
        
        var night = document.cookie.replace(/(?:(?:^|.*;\s*)night\s*\=\s*([^;]*).*$)|^.*$/, "$1");
        if (night==""){
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                
            }
        }else{
            
            if (night=="1") {
                this.toggleDarkMode();
            }
        }
    },
    mounted() {
        this.handleScroll();
        this.handleResize();
        this.mounted = true;

        
    },
    destroyed() {
        window.removeEventListener('scroll', this.handleScroll);
        window.removeEventListener('resize', this.handleResize);
    }
});
</script>

<script src="//www.sunitparekh.in//js/journal.js"></script>
    </body>
</html>
